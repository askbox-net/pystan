2020,03,02
■Stan2.19, rstan 2.19.3, Rtools 3.5, R3.6.3, windows10で動作確認しました。

■このフォルダは、以下のファイルがあります。
readme.txt    : このファイル
RstanStan.pdf : 自作関数の説明

■このフォルダは、以下のサブフォルダがあります。
myfunc        : 著者が作ったRの自作関数
scr*          : 各章に対応するRスクリプト
stan          : stanによってMCMCを実行するスクリプト

■Ｒ実行時のワーキングディレクトリはこのフォルダです。
ユーザーの方が実際に走らせるのはscrの下の各章に対応するRスクリプトだけです。
Rの中からstanを呼んでいますが、ほとんどstanにさわる必要がないので
初歩のRの文法が分かっていれば、stanの文法を知らない方にも教科書の分析を
行うことができます。

■乱数にたよるMCMCによる分析結果は、教科書の数値と完全には一致はしません。
本書で採用したMCMC標本程度（10万）では、経験的に有効数字3桁目くらいからは
信用できません。ただし3桁というと0.1％から高々1.0％のオーダーですから、
多くの場合に論文や報告書の結果の解釈が左右されるほどではありません。

■スクリプト及び同梱ファイルは個人・法人を問わず無料でご使用頂けますが、
著作権は放棄していません。またスクリプトを使用していかなる損害が発生しても
著者は一切の責任を負いません。自己責任で利用してください。

■本スクリプトは、統計解析環境RのパッケージRstanを利用します。
Rstanの関数は外部プログラムであるStanを呼び出してMCMCを実行します。
実行可能な状態にするためには、以下の4つのステップを行います。

1. コントロールパネルから古いRtoolsのアンインストールします。
   (Rtoolsがなければ、このステップは必要ありません)

2. 統計解析環境RをDownloadし、Installします。

https://cran.ism.ac.jp/

"C:/Program Files/R/R-3.*.*/library"
が書込み可能でなければ、書き込み可能にする。
フォルダのプロパティのセキュリティタブ・編集を押して・
Users(**)を選択・フルコントロール・変更にチェック

3. 統計解析環境Rを立ち上げ、Rstanをインストールします。
　　コンソール画面で以下のコマンドを実行します。

install.packages('rstan', repos='https://cloud.r-project.org/', dependencies=TRUE)

4. RtoolsをDownloadし、Installします。

https://cran.r-project.org/bin/windows/Rtools/

インストールの際に「EDIT the system PATH」にチェックをつける画面が出ますので、
必ずチェックをつけてください。

豊田秀樹
